<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qansha AI - Barbershop Dashboard</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f8fafc;
            color: #334155;
            line-height: 1.5;
        }
        
        .dashboard {
            display: flex;
            min-height: 100vh;
        }
        
        .sidebar {
            width: 280px;
            background-color: #000000;
            padding: 24px 0;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }
        
        .logo {
            padding: 0 24px 32px 24px;
            font-size: 24px;
            font-weight: 700;
            color: #ffffff;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            padding: 16px 24px;
            color: #ffffff;
            text-decoration: none;
            transition: all 0.2s ease;
            margin: 2px 12px;
            border-radius: 12px;
            font-weight: 500;
        }
        
        .nav-item.active {
            background-color: #22c55e;
            color: white;
        }
        
        .nav-item:hover:not(.active) {
            background-color: #1a1a1a;
            color: #ffffff;
        }
        
        .nav-icon {
            width: 20px;
            height: 20px;
            margin-right: 12px;
        }
        
        .main-content {
            margin-left: 280px;
            flex: 1;
            padding: 32px 40px;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
        }
        
        .greeting-section {
            display: flex;
            align-items: center;
        }
        
        .greeting {
            font-size: 28px;
            font-weight: 600;
            color: #1e293b;
            margin-right: 16px;
        }
        
        .date {
            font-size: 14px;
            color: #64748b;
            background: #f1f5f9;
            padding: 4px 12px;
            border-radius: 20px;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }
        
        .search-container {
            position: relative;
        }
        
        .search-input {
            padding: 12px 16px 12px 44px;
            border: 1px solid #e2e8f0;
            border-radius: 24px;
            background-color: #ffffff;
            width: 320px;
            font-size: 14px;
            transition: all 0.2s;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #22c55e;
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
        }
        
        .search-icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: #64748b;
        }
        
        .notification {
            width: 44px;
            height: 44px;
            background: #ffffff;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .notification:hover {
            background: #f8fafc;
        }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 24px;
            margin-bottom: 24px;
        }
        
        .card {
            background: #ffffff;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            border: 1px solid #f1f5f9;
        }
        
        .card-title {
            font-size: 16px;
            color: #64748b;
            margin-bottom: 16px;
            font-weight: 500;
        }
        
        .revenue-amount {
            font-size: 36px;
            font-weight: 700;
            color: #1e293b;
            margin-bottom: 8px;
        }
        
        .revenue-subtitle {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 20px;
        }
        
        .location-card {
            background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            color: white;
            border-radius: 16px;
            padding: 20px;
            position: relative;
            margin-bottom: 16px;
        }
        
        .location-type {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .location-label {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .location-address {
            font-size: 14px;
            opacity: 0.8;
            margin-bottom: 16px;
        }
        
        .location-revenue {
            font-size: 24px;
            font-weight: 700;
        }
        
        .location-logo {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 48px;
            height: 32px;
            background: rgba(255,255,255,0.2);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 12px;
        }
        
        .card-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 16px;
        }
        
        .nav-button {
            background: none;
            border: none;
            color: #64748b;
            cursor: pointer;
            font-size: 14px;
            padding: 8px 12px;
            border-radius: 8px;
            transition: all 0.2s;
        }
        
        .nav-button:hover {
            background: #f1f5f9;
            color: #1e293b;
        }
        
        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .goal-content {
            text-align: center;
        }
        
        .goal-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 16px;
        }
        
        .goal-amount {
            font-size: 28px;
            font-weight: 700;
            color: #1e293b;
        }
        
        .goal-edit {
            background: none;
            border: none;
            color: #64748b;
            cursor: pointer;
            font-size: 16px;
        }
        
        .goal-period {
            font-size: 12px;
            color: #64748b;
            margin-bottom: 20px;
        }
        
        .goal-chart {
            width: 140px;
            height: 140px;
            margin: 0 auto 20px;
            position: relative;
        }
        
        .goal-stats {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .goal-stat {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 12px;
            color: #64748b;
        }
        
        .achieved-amount {
            color: #22c55e;
            font-size: 18px;
            font-weight: 600;
        }
        
        .expense-item {
            display: flex;
            align-items: center;
            padding: 16px 0;
            border-bottom: 1px solid #f1f5f9;
        }
        
        .expense-item:last-child {
            border-bottom: none;
        }
        
        .expense-icon {
            width: 44px;
            height: 44px;
            background: #f8fafc;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
            font-size: 18px;
        }
        
        .expense-info {
            flex: 1;
        }
        
        .expense-name {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 4px;
        }
        
        .expense-category {
            font-size: 12px;
            color: #64748b;
            margin-bottom: 2px;
        }
        
        .expense-period {
            font-size: 10px;
            color: #94a3b8;
        }
        
        .expense-amount {
            font-weight: 700;
            color: #1e293b;
            font-size: 16px;
        }
        
        .service-performance {
            padding: 12px 0;
            border-bottom: 1px solid #f1f5f9;
        }
        
        .service-performance:last-child {
            border-bottom: none;
        }
        
        .service-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        
        .service-name {
            font-weight: 600;
            color: #1e293b;
        }
        
        .service-count {
            font-size: 14px;
            color: #64748b;
        }
        
        .service-bar {
            width: 100%;
            height: 6px;
            background: #f1f5f9;
            border-radius: 3px;
            overflow: hidden;
        }
        
        .service-fill {
            height: 100%;
            background: #22c55e;
            border-radius: 3px;
            transition: width 0.3s ease;
        }
        
        .bottom-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 24px;
        }
        
        .transactions-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .tabs {
            display: flex;
            gap: 24px;
            margin-bottom: 20px;
            border-bottom: 1px solid #f1f5f9;
        }
        
        .tab {
            color: #64748b;
            padding: 12px 0;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .tab.active {
            color: #22c55e;
            border-bottom-color: #22c55e;
        }
        
        .tab:hover:not(.active) {
            color: #1e293b;
        }
        
        .transaction-list {
            max-height: 420px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: #e2e8f0 transparent;
        }
        
        .transaction-list::-webkit-scrollbar {
            width: 6px;
        }
        
        .transaction-list::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .transaction-list::-webkit-scrollbar-thumb {
            background: #e2e8f0;
            border-radius: 3px;
        }
        
        .transaction-item {
            display: flex;
            align-items: center;
            padding: 16px 0;
            border-bottom: 1px solid #f8fafc;
            transition: all 0.2s;
        }
        
        .transaction-item:hover {
            background: #f8fafc;
            margin: 0 -8px;
            padding: 16px 8px;
            border-radius: 12px;
        }
        
        .transaction-icon {
            width: 44px;
            height: 44px;
            background: #f1f5f9;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
            font-size: 18px;
        }
        
        .transaction-details {
            flex: 1;
        }
        
        .transaction-name {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 4px;
        }
        
        .transaction-subtitle {
            font-size: 12px;
            color: #64748b;
        }
        
        .transaction-right {
            text-align: right;
        }
        
        .transaction-amount {
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 4px;
        }
        
        .transaction-amount.revenue {
            color: #22c55e;
        }
        
        .transaction-amount.expense {
            color: #ef4444;
        }
        
        .transaction-date {
            font-size: 12px;
            color: #64748b;
        }
        
        .stats-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .period-select {
            padding: 8px 16px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            background: #ffffff;
            color: #1e293b;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .period-select:focus {
            outline: none;
            border-color: #22c55e;
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
        }
        
        .chart-legend {
            display: flex;
            justify-content: center;
            gap: 24px;
            margin-bottom: 16px;
            font-size: 12px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 3px;
        }
        
        .chart-container {
            height: 220px;
            margin-bottom: 24px;
        }
        
        .breakdown-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        
        .breakdown-item {
            display: flex;
            align-items: center;
            padding: 16px;
            background: #f8fafc;
            border-radius: 12px;
            transition: all 0.2s;
        }
        
        .breakdown-item:hover {
            background: #f1f5f9;
        }
        
        .category-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 16px;
        }
        
        .breakdown-details {
            flex: 1;
        }
        
        .category-name {
            font-size: 12px;
            color: #64748b;
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .category-amount {
            font-weight: 700;
            color: #1e293b;
        }
        
        .category-trend {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 24px;
            height: 24px;
            font-size: 12px;
        }
        
        .user-profile {
            position: absolute;
            bottom: 24px;
            left: 24px;
            display: flex;
            align-items: center;
            color: #ffffff;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .user-profile:hover {
            color: #22c55e;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            background: #22c55e;
            border-radius: 12px;
            margin-right: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
        }
        
        .user-name {
            font-weight: 500;
        }
        
        .user-role {
            font-size: 12px;
            opacity: 0.7;
        }
        
        /* AI Recommendations Section */
        .ai-recommendations {
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            color: white;
            border-radius: 16px;
            padding: 24px;
            margin-top: 24px;
        }
        
        .ai-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .ai-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
            font-size: 20px;
        }
        
        .ai-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .ai-subtitle {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .recommendations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 16px;
        }
        
        .recommendation-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.2s;
        }
        
        .recommendation-card:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
        
        .recommendation-type {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .recommendation-type.warning {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
        }
        
        .recommendation-type.critical {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }
        
        .recommendation-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
        }
        
        .recommendation-description {
            font-size: 14px;
            opacity: 0.9;
            line-height: 1.6;
            margin-bottom: 12px;
        }
        
        .recommendation-impact {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            opacity: 0.8;
        }
        
        .impact-value {
            font-weight: 600;
            color: #22c55e;
        }
        
        /* Goal Input Modal */
        .goal-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .goal-modal.show {
            display: flex;
        }
        
        .modal-content {
            background: white;
            padding: 24px;
            border-radius: 16px;
            width: 400px;
            max-width: 90vw;
        }
        
        .modal-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
        }
        
        .goal-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 16px;
        }
        
        .goal-input:focus {
            outline: none;
            border-color: #22c55e;
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
        }
        
        .modal-buttons {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .btn-primary {
            background: #22c55e;
            color: white;
        }
        
        .btn-primary:hover {
            background: #16a34a;
        }
        
        .btn-secondary {
            background: #f1f5f9;
            color: #64748b;
        }
        
        .btn-secondary:hover {
            background: #e2e8f0;
        }
        
        /* Responsive */
        @media (max-width: 1400px) {
            .dashboard-grid {
                grid-template-columns: 2fr 1fr 1fr;
            }
        }
        
        @media (max-width: 1100px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .bottom-section {
                grid-template-columns: 1fr;
            }
            
            .breakdown-list {
                grid-template-columns: 1fr;
            }
            
            .recommendations-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }
            
            .main-content {
                margin-left: 0;
                padding: 20px;
            }
            
            .header {
                flex-direction: column;
                gap: 16px;
                align-items: stretch;
            }
            
            .search-input {
                width: 100%;
            }
            
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .view-all {
            color: #64748b;
            font-size: 12px;
            cursor: pointer;
            transition: color 0.2s;
        }
        
        .view-all:hover {
            color: #22c55e;
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <div class="sidebar">
            <div class="logo">Qansha AI</div>
            
            <nav>
                <a href="main.html" class="nav-item">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                    </svg>
                    Main Page
                  </a>
                
                  <!-- Balances (твой balances.html / accounts.html — поставь своё имя файла) -->
                  <a href="locations.html" class="nav-item">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                    Locations & Expenses
                  </a>
                
                  <!-- Bills -->
                  <a href="bills.html" class="nav-item">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
                      <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                    </svg>
                    Bills
                  </a>

                  <a href="upload.html" class="nav-item">
                    <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                      <!-- Лоток -->
                      <path d="M5 20h14v-2H5v2z"/>
                      <!-- Стрелка вверх -->
                      <path d="M12 3l-5 5h3v6h4V8h3l-5-5z"/>
                    </svg>
                    Upload
                  </a>
            </nav>
            
            <div class="user-profile">
                <div class="user-avatar">BS</div>
                <div>
                    <div class="user-name">Barbershop Owner</div>
                    <div class="user-role">View profile</div>
                </div>
            </div>
        </div>
        
        <div class="main-content">
            <div class="header">
                <div class="greeting-section">
                    <div class="greeting">Hello Boss</div>
                    <div class="date" id="currentDate"></div>
                </div>
                
                <div class="header-right">
                    <div class="search-container">
                        <svg class="search-icon" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                        </svg>
                        <input type="text" class="search-input" placeholder="Search transactions, services...">
                    </div>
                    <div class="notification">
                        <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2zm.995-14.901a1 1 0 1 0-1.99 0A5.002 5.002 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901z"/>
                        </svg>
                    </div>
                </div>
            </div>
            
            <div class="dashboard-grid">
                <div class="card">
                    <div class="card-title">Total Revenue</div>
                    <div class="revenue-amount" id="totalRevenue">$15,840.00</div>
                    <div class="revenue-subtitle">All Locations This Month</div>
                    
                    <div class="location-card">
                        <div class="location-type">Location</div>
                        <div class="location-label" id="locationName">Downtown Branch</div>
                        <div class="location-address" id="locationAddress">123 Main Street, City Center</div>
                        <div class="location-revenue" id="locationRevenue">$8,500.00</div>
                        <div class="location-logo">BS</div>
                    </div>
                    
                    <div class="card-navigation">
                        <button class="nav-button" id="prevLocation">← Previous</button>
                        <div style="display: flex; gap: 8px;">
                            <div style="width: 8px; height: 8px; border-radius: 50%; background: #22c55e;"></div>
                            <div style="width: 8px; height: 8px; border-radius: 50%; background: #e2e8f0;"></div>
                            <div style="width: 8px; height: 8px; border-radius: 50%; background: #e2e8f0;"></div>
                        </div>
                        <button class="nav-button" id="nextLocation">Next →</button>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">Monthly Goal</div>
                    <div class="goal-content">
                        <div class="goal-header">
                            <div class="goal-amount" id="goalTarget">$18,000.00</div>
                            <button class="goal-edit" id="goalEditBtn">✏️</button>
                        </div>
                        <div class="goal-period">August, 2025</div>
                        
                        <div class="goal-chart">
                            <canvas id="goalChart" width="140" height="140"></canvas>
                        </div>
                        
                        <div class="goal-stats">
                            <div class="achieved-amount" id="goalAchieved">$15,840.00</div>
                            <div class="goal-stat">
                                <span>🎯</span>
                                <span>Target Progress</span>
                            </div>
                            <div class="goal-stat">
                                <span>📊</span>
                                <span>This month Target</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">Monthly Expenses</div>
                    
                    <div id="expensesList">
                        <div class="expense-item">
                            <div class="expense-icon">⚡</div>
                            <div class="expense-info">
                                <div class="expense-name">Electricity</div>
                                <div class="expense-category">Utilities</div>
                                <div class="expense-period">All Locations</div>
                            </div>
                            <div class="expense-amount">$320</div>
                        </div>
                        
                        <div class="expense-item">
                            <div class="expense-icon">🏠</div>
                            <div class="expense-info">
                                <div class="expense-name">Rent</div>
                                <div class="expense-category">Fixed Costs</div>
                                <div class="expense-period">Monthly</div>
                            </div>
                            <div class="expense-amount">$2,400</div>
                        </div>
                        
                        <div class="expense-item">
                            <div class="expense-icon">🧴</div>
                            <div class="expense-info">
                                <div class="expense-name">Hair Products</div>
                                <div class="expense-category">Supplies</div>
                                <div class="expense-period">Shampoos & Styling</div>
                            </div>
                            <div class="expense-amount">$450</div>
                        </div>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-title">Popular Services</div>
                    
                    <div id="servicesList">
                        <div class="service-performance">
                            <div class="service-header">
                                <div class="service-name">Haircut & Style</div>
                                <div class="service-count">145 services</div>
                            </div>
                            <div class="service-bar">
                                <div class="service-fill" style="width: 92%;"></div>
                            </div>
                        </div>
                        
                        <div class="service-performance">
                            <div class="service-header">
                                <div class="service-name">Beard Trim</div>
                                <div class="service-count">98 services</div>
                            </div>
                            <div class="service-bar">
                                <div class="service-fill" style="width: 65%;"></div>
                            </div>
                        </div>
                        
                        <div class="service-performance">
                            <div class="service-header">
                                <div class="service-name">Hot Towel Shave</div>
                                <div class="service-count">76 services</div>
                            </div>
                            <div class="service-bar">
                                <div class="service-fill" style="width: 48%;"></div>
                            </div>
                        </div>
                        
                        <div class="service-performance">
                            <div class="service-header">
                                <div class="service-name">Hair Wash</div>
                                <div class="service-count">124 services</div>
                            </div>
                            <div class="service-bar">
                                <div class="service-fill" style="width: 78%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="bottom-section">
                <div class="card">
                    <div class="transactions-header">
                        <div class="card-title">Recent Transactions</div>
                        <div class="view-all">View All</div>
                    </div>
                    
                    <div class="tabs">
                        <div class="tab active" id="tabAll">All</div>
                        <div class="tab" id="tabRevenue">Revenue</div>
                        <div class="tab" id="tabExpenses">Expenses</div>
                    </div>
                    
                    <div class="transaction-list" id="txList">
                        <!-- Transactions will be populated by JS -->
                    </div>
                </div>
                
                <div class="card">
                    <div class="stats-header">
                        <div class="card-title">Location Comparison</div>
                        <select class="period-select" id="periodSelect">
                            <option value="weekly">Weekly Comparison</option>
                            <option value="monthly">Monthly Comparison</option>
                            <option value="yearly">Yearly Comparison</option>
                        </select>
                    </div>
                    
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background: #22c55e;"></div>
                            <span>Downtown</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #3b82f6;"></div>
                            <span>Mall</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: #8b5cf6;"></div>
                            <span>Suburbs</span>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="statChart"></canvas>
                    </div>
                    
                    <div class="card-title" style="margin-bottom: 16px;">Service Revenue Breakdown</div>
                    <div class="breakdown-list" id="breakdownList">
                        <!-- Breakdown items will be populated by JS -->
                    </div>
                </div>
            </div>
            
            <!-- AI Recommendations Section -->
            <div class="ai-recommendations">
                <div class="ai-header">
                    <div class="ai-icon">🤖</div>
                    <div>
                        <div class="ai-title">AI Business Insights</div>
                        <div class="ai-subtitle">Personalized recommendations to grow your barbershop</div>
                    </div>
                </div>
                
                <div class="recommendations-grid" id="recommendationsGrid">
                    <!-- Recommendations will be populated by JS -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Goal Modal -->
    <div class="goal-modal" id="goalModal">
        <div class="modal-content">
            <div class="modal-title">Set Monthly Revenue Goal</div>
            <input type="number" class="goal-input" id="goalInput" placeholder="Enter amount (e.g. 18000)">
            <div class="modal-buttons">
                <button class="btn btn-secondary" id="goalCancelBtn">Cancel</button>
                <button class="btn btn-primary" id="goalSetBtn">Set Goal</button>
            </div>
        </div>
    </div>

    <script>
        // Demo Data for Barbershop
        const locations = [
            { 
                name: 'Downtown Branch', 
                address: '123 Main Street, City Center', 
                revenue: 8500,
                chairs: 4,
                staff: 6
            },
            { 
                name: 'Mall Location', 
                address: '456 Shopping Mall, Level 2', 
                revenue: 4800,
                chairs: 3,
                staff: 4
            },
            { 
                name: 'Suburbs Branch', 
                address: '789 Residential Area, Oak Street', 
                revenue: 2540,
                chairs: 2,
                staff: 3
            }
        ];

        const transactions = [
            { id: 1, title: 'Haircut & Style',     subtitle: 'Downtown - Chair 1',  date: '2025-08-19', amount: 35,  type: 'revenue', icon: '✂️' },
            { id: 2, title: 'Beard Trim',         subtitle: 'Mall - Chair 2',      date: '2025-08-19', amount: 20,  type: 'revenue', icon: '🧔' },
            { id: 3, title: 'Hair Products',      subtitle: 'Product Purchase',    date: '2025-08-19', amount: 120, type: 'expense', icon: '🧴' },
            { id: 4, title: 'Hot Towel Shave',    subtitle: 'Downtown - Chair 3',  date: '2025-08-19', amount: 45,  type: 'revenue', icon: '🔥' },
            { id: 5, title: 'Electricity Bill',   subtitle: 'Monthly Utility',     date: '2025-08-18', amount: 320, type: 'expense', icon: '⚡' },
            { id: 6, title: 'Premium Package',    subtitle: 'Suburbs - VIP',       date: '2025-08-18', amount: 85,  type: 'revenue', icon: '👑' },
            { id: 7, title: 'Chair Maintenance',  subtitle: 'Equipment Service',   date: '2025-08-18', amount: 150, type: 'expense', icon: '🔧' },
            { id: 8, title: 'Hair Wash',          subtitle: 'Mall - Chair 1',      date: '2025-08-17', amount: 15,  type: 'revenue', icon: '🚿' },
            { id: 9, title: 'Styling Products',   subtitle: 'Gel & Pomade',        date: '2025-08-17', amount: 80,  type: 'expense', icon: '💇' },
            { id: 10, title: 'Kids Haircut',      subtitle: 'Downtown - Special',  date: '2025-08-17', amount: 25,  type: 'revenue', icon: '👶' }
        ];

        const expenses = [
            { name: 'Electricity', category: 'Utilities', period: 'All Locations', amount: 320, icon: '⚡' },
            { name: 'Rent', category: 'Fixed Costs', period: 'Monthly', amount: 2400, icon: '🏠' },
            { name: 'Hair Products', category: 'Supplies', period: 'Shampoos & Styling', amount: 450, icon: '🧴' },
            { name: 'Staff Salaries', category: 'Personnel', period: 'Monthly', amount: 8500, icon: '👥' },
            { name: 'Equipment', category: 'Maintenance', period: 'Chairs & Tools', amount: 280, icon: '🔧' }
        ];

        const services = [
            { name: 'Haircut & Style', count: 145, percentage: 92 },
            { name: 'Beard Trim', count: 98, percentage: 65 },
            { name: 'Hot Towel Shave', count: 76, percentage: 48 },
            { name: 'Hair Wash', count: 124, percentage: 78 },
            { name: 'Premium Package', count: 42, percentage: 28 }
        ];

        const locationPerformance = {
            weekly: { 
                labels: ['Mon','Tue','Wed','Thu','Fri','Sat','Sun'], 
                downtown: [420,380,450,520,680,920,580], 
                mall: [280,320,350,380,420,520,340],
                suburbs: [180,160,200,240,280,360,220]
            },
            monthly: { 
                labels: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug'], 
                downtown: [7200,7800,8100,8400,8600,8800,8200,8500], 
                mall: [4200,4400,4600,4300,4500,4700,4600,4800],
                suburbs: [2100,2300,2400,2200,2500,2600,2400,2540]
            },
            yearly: { 
                labels: ['2021','2022','2023','2024','2025'], 
                downtown: [85000,92000,98000,102000,98000], 
                mall: [52000,56000,58000,59000,56000],
                suburbs: [28000,30000,32000,31000,30000]
            }
        };

        const serviceBreakdown = [
            { key: 'Haircuts',     color: '#22C55E', icon: '✂️' },
            { key: 'Beard Care',   color: '#3B82F6', icon: '🧔' },
            { key: 'Shaving',      color: '#8B5CF6', icon: '🪒' },
            { key: 'Hair Wash',    color: '#F59E0B', icon: '🚿' },
            { key: 'Premium',      color: '#EF4444', icon: '👑' },
            { key: 'Products',     color: '#9CA3AF', icon: '🧴' }
        ];

        const aiRecommendations = [
            {
                type: 'optimization',
                title: 'Upgrade Hydraulic Chairs',
                description: 'Your chairs at Downtown location are 5+ years old. Newer models increase customer comfort and reduce maintenance costs by 40%.',
                impact: 'ROI: +$2,400/year',
                priority: 'high'
            },
            {
                type: 'warning',
                title: 'Reduce Premium Shampoo Inventory',
                description: 'Premium shampoo sales are down 25% this quarter. Consider switching to mid-range products that customers prefer.',
                impact: 'Save: $300/month',
                priority: 'medium'
            },
            {
                type: 'opportunity',
                title: 'Expand Weekend Hours',
                description: 'Saturday revenue is 35% higher per hour. Adding Sunday hours could increase monthly revenue significantly.',
                impact: 'Potential: +$1,800/month',
                priority: 'high'
            },
            {
                type: 'critical',
                title: 'Mall Location Underperforming',
                description: 'Mall location revenue down 15% vs last quarter. Consider relocating or renegotiating rent terms.',
                impact: 'Risk: -$500/month',
                priority: 'urgent'
            },
            {
                type: 'optimization',
                title: 'Introduce Loyalty Program',
                description: 'Customer retention could increase by 30% with a simple punch-card system. Average customer visits would increase.',
                impact: 'Potential: +$2,200/month',
                priority: 'medium'
            },
            {
                type: 'opportunity',
                title: 'Add Beard Oil Sales',
                description: 'With 98 beard trims monthly, selling beard care products could generate significant additional revenue.',
                impact: 'Potential: +$980/month',
                priority: 'high'
            }
        ];

        // Global Variables
        let currentLocationIndex = 0;
        let currentTransactionFilter = 'all';
        let currentPeriod = 'weekly';
        let monthlyGoal = 18000;
        let goalChart = null;
        let statChart = null;

        // Utility Functions
        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0
            }).format(amount);
        }

        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return new Intl.DateTimeFormat('en-US', {
                day: '2-digit',
                month: 'short',
                year: 'numeric'
            }).format(date);
        }

        function getCurrentDate() {
            return new Intl.DateTimeFormat('en-US', {
                month: 'long',
                day: 'numeric',
                year: 'numeric'
            }).format(new Date());
        }

        // Initialize App
        function init() {
            document.getElementById('currentDate').textContent = getCurrentDate();
            renderLocationsCard();
            renderTransactions('all');
            renderGoalChart();
            renderStatChart('weekly');
            renderServiceBreakdown('weekly');
            renderAIRecommendations();
            setupEventListeners();
        }

        // Location Card Functions
        function renderLocationsCard() {
            const totalRevenue = locations.reduce((sum, loc) => sum + loc.revenue, 0);
            const currentLocation = locations[currentLocationIndex];
            
            document.getElementById('totalRevenue').textContent = formatCurrency(totalRevenue);
            document.getElementById('locationName').textContent = currentLocation.name;
            document.getElementById('locationAddress').textContent = currentLocation.address;
            document.getElementById('locationRevenue').textContent = formatCurrency(currentLocation.revenue);
            
            // Update navigation dots
            const dots = document.querySelectorAll('.card-navigation div div');
            dots.forEach((dot, index) => {
                dot.style.backgroundColor = index === currentLocationIndex ? '#22c55e' : '#e2e8f0';
            });
        }

        function nextLocation() {
            currentLocationIndex = (currentLocationIndex + 1) % locations.length;
            renderLocationsCard();
        }

        function prevLocation() {
            currentLocationIndex = (currentLocationIndex - 1 + locations.length) % locations.length;
            renderLocationsCard();
        }

        // Transaction Functions
        function renderTransactions(filter) {
            currentTransactionFilter = filter;
            const filteredTransactions = filter === 'all' 
                ? transactions 
                : transactions.filter(tx => tx.type === filter);
            
            const txList = document.getElementById('txList');
            txList.innerHTML = filteredTransactions.map(tx => `
                <div class="transaction-item">
                    <div class="transaction-icon">${tx.icon}</div>
                    <div class="transaction-details">
                        <div class="transaction-name">${tx.title}</div>
                        <div class="transaction-subtitle">${tx.subtitle}</div>
                    </div>
                    <div class="transaction-right">
                        <div class="transaction-amount ${tx.type}">
                            ${tx.type === 'revenue' ? '+' : '-'}${formatCurrency(tx.amount)}
                        </div>
                        <div class="transaction-date">${formatDate(tx.date)}</div>
                    </div>
                </div>
            `).join('');
            
            // Update tab active state
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.getElementById(`tab${filter === 'all' ? 'All' : filter === 'revenue' ? 'Revenue' : 'Expenses'}`).classList.add('active');
        }

        // Goal Functions
        function calculateAchieved() {
            const totalRevenue = locations.reduce((sum, loc) => sum + loc.revenue, 0);
            return totalRevenue;
        }

        function renderGoalChart() {
            const achieved = calculateAchieved();
            const percentage = Math.min((achieved / monthlyGoal) * 100, 100);
            
            document.getElementById('goalTarget').textContent = formatCurrency(monthlyGoal);
            document.getElementById('goalAchieved').textContent = formatCurrency(achieved);
            
            const ctx = document.getElementById('goalChart').getContext('2d');
            
            if (goalChart) {
                goalChart.destroy();
            }
            
            goalChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    datasets: [{
                        data: [percentage, 100 - percentage],
                        backgroundColor: ['#22c55e', '#f1f5f9'],
                        borderWidth: 0,
                        cutout: '75%'
                    }]
                },
                options: {
                    responsive: false,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: { enabled: false }
                    }
                },
                plugins: [{
                    beforeDraw: function(chart) {
                        const width = chart.width;
                        const height = chart.height;
                        const ctx = chart.ctx;
                        
                        ctx.restore();
                        const fontSize = (height / 114).toFixed(2);
                        ctx.font = `bold ${fontSize * 24}px Inter`;
                        ctx.textBaseline = 'middle';
                        ctx.fillStyle = '#1e293b';
                        
                        const text = Math.round(percentage) + '%';
                        const textX = Math.round((width - ctx.measureText(text).width) / 2);
                        const textY = height / 2;
                        
                        ctx.fillText(text, textX, textY);
                        ctx.save();
                    }
                }]
            });
        }

        function showGoalModal() {
            document.getElementById('goalModal').classList.add('show');
            document.getElementById('goalInput').value = monthlyGoal;
            document.getElementById('goalInput').focus();
        }

        function hideGoalModal() {
            document.getElementById('goalModal').classList.remove('show');
        }

        function setGoal() {
            const newGoal = parseFloat(document.getElementById('goalInput').value);
            if (newGoal && newGoal > 0) {
                monthlyGoal = newGoal;
                renderGoalChart();
                hideGoalModal();
            }
        }

        // Statistics Chart Functions
        function renderStatChart(period) {
            currentPeriod = period;
            const data = locationPerformance[period];
            
            const ctx = document.getElementById('statChart').getContext('2d');
            
            if (statChart) {
                statChart.destroy();
            }
            
            statChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.labels,
                    datasets: [
                        {
                            label: 'Downtown',
                            data: data.downtown,
                            borderColor: '#22c55e',
                            backgroundColor: 'rgba(34, 197, 94, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4
                        },
                        {
                            label: 'Mall',
                            data: data.mall,
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4
                        },
                        {
                            label: 'Suburbs',
                            data: data.suburbs,
                            borderColor: '#8b5cf6',
                            backgroundColor: 'rgba(139, 92, 246, 0.1)',
                            borderWidth: 3,
                            fill: false,
                            tension: 0.4
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                        }
                    },
                    scales: {
                        x: {
                            grid: { display: false },
                            ticks: { font: { size: 11 } }
                        },
                        y: {
                            grid: { color: '#f1f5f9' },
                            ticks: { 
                                font: { size: 11 },
                                callback: function(value) {
                                    return formatCurrency(value);
                                }
                            },
                            beginAtZero: true
                        }
                    },
                    elements: {
                        point: { radius: 4, hoverRadius: 6 }
                    }
                }
            });
            
            renderServiceBreakdown(period);
        }

        // Service Breakdown Functions
        function renderServiceBreakdown(period) {
            const serviceRevenues = [
                { ...serviceBreakdown[0], amount: 5250 },
                { ...serviceBreakdown[1], amount: 1960 },
                { ...serviceBreakdown[2], amount: 3420 },
                { ...serviceBreakdown[3], amount: 1860 },
                { ...serviceBreakdown[4], amount: 3570 },
                { ...serviceBreakdown[5], amount: 780 }
            ];
            
            const breakdownList = document.getElementById('breakdownList');
            breakdownList.innerHTML = serviceRevenues.map((item, index) => `
                <div class="breakdown-item">
                    <div class="category-icon" style="background-color: ${item.color}20; color: ${item.color};">
                        ${item.icon}
                    </div>
                    <div class="breakdown-details">
                        <div class="category-name">${item.key}</div>
                        <div class="category-amount">${formatCurrency(item.amount)}</div>
                    </div>
                    <div class="category-trend">
                        ${Math.random() > 0.5 ? '↗' : '↙'}
                    </div>
                </div>
            `).join('');
        }

        // AI Recommendations Functions
        function renderAIRecommendations() {
            const recommendationsGrid = document.getElementById('recommendationsGrid');
            recommendationsGrid.innerHTML = aiRecommendations.map(rec => `
                <div class="recommendation-card">
                    <div class="recommendation-type ${rec.type}">${rec.type}</div>
                    <div class="recommendation-title">${rec.title}</div>
                    <div class="recommendation-description">${rec.description}</div>
                    <div class="recommendation-impact">
                        <span>Impact:</span>
                        <span class="impact-value">${rec.impact}</span>
                    </div>
                </div>
            `).join('');
        }

        // Event Listeners
        function setupEventListeners() {
            // Location navigation
            document.getElementById('prevLocation').addEventListener('click', prevLocation);
            document.getElementById('nextLocation').addEventListener('click', nextLocation);
            
            // Transaction tabs
            document.getElementById('tabAll').addEventListener('click', () => renderTransactions('all'));
            document.getElementById('tabRevenue').addEventListener('click', () => renderTransactions('revenue'));
            document.getElementById('tabExpenses').addEventListener('click', () => renderTransactions('expense'));
            
            // Goal modal
            document.getElementById('goalEditBtn').addEventListener('click', showGoalModal);
            document.getElementById('goalCancelBtn').addEventListener('click', hideGoalModal);
            document.getElementById('goalSetBtn').addEventListener('click', setGoal);
            
            // Goal modal close on outside click
            document.getElementById('goalModal').addEventListener('click', (e) => {
                if (e.target.id === 'goalModal') hideGoalModal();
            });
            
            // Goal input enter key
            document.getElementById('goalInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') setGoal();
            });
            
            // Period selection
            document.getElementById('periodSelect').addEventListener('change', (e) => {
                renderStatChart(e.target.value);
            });
        }

        // Initialize the app
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>